@using SymCMS.ViewModels
@model SymCMS.ViewModels.PostViewModel

@{
    ViewBag.Title = "Details";
    //Layout = "~/Views/Shared/_LayoutPanel.cshtml";
    if (!ViewData.ContainsKey("postId"))
    {
        ViewData.Add("postId", Model.Id);
    }
    else
    {
        ViewData["postId"] = Model.Id;
    }
}

<div>
    <h3 class="font-weight-light">@Html.DisplayFor(model => model.Title)</h3>
    <hr />
    <div class="card m-3 bg-transparent" style="width:auto;">

        <div class="card-body bg-transparent w-auto">

            <p class="border-bottom border-dark card-title display-4">@Html.DisplayNameFor(model => model.Content)</p>
            <div class="form-text rounded border border-primary card-text mb-3"> @Html.DisplayFor(model => model.Content)</div>

        </div>

    </div>
</div>
<hr />
<div>
    @Html.Partial("~/Views/Shared/_CommentSection.cshtml", new List<CommentViewModel>(ViewBag.ExComments), ViewData)
</div>
<div class="row mx-3">
    @if (User.IsInRole("Administrator") || User.IsInRole("Editor"))
    {
        <form action="/Admin/Edit/@Model.Id">
            <input type="submit" class="btn btn-danger rounded mr-2" value="Edit" />
        </form>
        }
        <form action="/Admin/PostsView/">
            <input type="submit" value="Back to List" class="btn btn-outline-dark" />
        </form>
    </div>

@*@section Scripts{
        <script>
            $(document).ready(function () {
                $("#addComment").click(function () {
                    alert("Click : " + $('#name').val() + " " + $('#comment').val());
                    $.ajax({
                        type: "POST",
                        url: "/Comment/CreateComment/",
                        data: { AuthorName: $('#name').val(), CommentText: $('#comment').val() },
                        dataType: typeof (string)
                    }).fail(alert('Fail'));
                });
            });
        </script>
        @Scripts.Render("~/bundles/jqueryval")
    }*@