@using SymCMS.ViewModels
@model SymCMS.ViewModels.PageViewModels

@{
    ViewBag.Title = "Details";
    if (!ViewData.ContainsKey("pageId"))
    {
        ViewData.Add("pageId", Model.PageId);
    }
    else
    {
        ViewData["pageId"] = Model.PageId;
    }
    if (!ViewData.ContainsKey("PageComments"))
    {
        ViewData.Add("PageComments", Model.CommentsEnabled);
    }
    else
    {
        ViewData["PageComments"] = Model.CommentsEnabled;
    }
}
<div class="mt-5">
    <h3 class="display-2">@Model.Title</h3>
    <hr />
    <dl class="dl-horizontal">
        <dd>
            @Html.Raw(Model.Content)
            @Html.Raw(Model.AdditionalContent)
        </dd>
    </dl>
    <div class ="justify-content-end">
        <h5 class="font-weight-light">By @Model.Author</h5>
    </div>
</div>
<hr />
<div>
    @Html.Partial("~/Views/Shared/_CommentSection.cshtml", new List<CommentViewModel>(ViewBag.ExComments), ViewData)
</div>
@if (!ViewData.ContainsKey("partial"))
{
    <div class="row mx-3">
        @if (User.Identity.IsAuthenticated)
        {
            <form action="/Pages/Edit/@Model.PageId">
                <input type="submit" class="btn btn-danger rounded mr-2" value="Edit" />
            </form>
            <form action="/Pages/PagesView/">
                <input type="submit" value="Back to List" class="btn btn-outline-dark" />
            </form>
        }
    </div>
}